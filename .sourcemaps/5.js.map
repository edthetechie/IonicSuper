{"version":3,"sources":["../../src/pages/tags-detail/tags-detail.module.ts","../../src/pages/tags-detail/tags-detail.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { TagsDetailPage } from './tags-detail';\n\n@NgModule({\n  declarations: [\n    TagsDetailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(TagsDetailPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    TagsDetailPage\n  ]\n})\nexport class TagsDetailPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tags-detail/tags-detail.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController, LoadingController, ModalController, AlertController, MenuController, ViewController } from 'ionic-angular';\nimport { BrowserTab } from '@ionic-native/browser-tab';\nimport { FormControl } from '@angular/forms';\n\nimport { Items } from '../../providers/providers';\nimport { FirstRunPage } from '../pages';\n\n@IonicPage()\n@Component({\n  selector: 'page-tags-detail',\n  templateUrl: 'tags-detail.html'\n})\nexport class TagsDetailPage {\n\n  item: any;\n  itemtitle: any;\n  pagetitle: any;\n  itemurl: any;\n  private loginErrorString: string;\n  private currentItems: any;\n  private filteredItems: any;  \n  loading: any;\n  loadingexport: any;\n  exportAlertMessage: any;\n  exportresponse: any;\n  searchTerm: string = '';\n  searchControl: FormControl;\n  searching: any = false;\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams, \n    public items: Items, \n    public toastCtrl: ToastController, \n    public browserTab: BrowserTab,\n    public modalCtrl: ModalController,\n    public viewCtrl: ViewController,\n    public menuctrl: MenuController,    \n    public loadingController: LoadingController,\n    public alertCtrl: AlertController\n  ) {\n\n    this.searchControl = new FormControl();\n    this.menuctrl.swipeEnable(true, 'left');\n  \n  }\n\n  onPageWillEnter(){\n    this.refreshTheServerData();\n  }\n\n  ionViewDidLoad() {\n    this.setFilteredItems();\n    this.searchControl.valueChanges.debounceTime(700).subscribe(search => {\n        this.searching = false;\n        console.log('searching');\n        this.setFilteredItems();\n    });\n  }\n\n    openUrl(itemurl) {\n      window.open(itemurl);// open URL with InAppBrowser instead or SafariViewController\n    }\n\n    ionViewWillEnter() {\n      this.viewCtrl.showBackButton(true);\n      this.refreshTheServerData();\n    }\n\n\n    setFilteredItems() {\n      if (this.searchTerm == '') {\n        this.filteredItems = this.currentItems;\n      }\n      else {\n        this.filteredItems = this.filterItems(this.searchTerm);\n      }\n    }\n\n    filterItems(searchTerm){\n      this.filteredItems = this.currentItems;\n      return this.filteredItems.filter((item) => {\n          return item.TITLE.toLowerCase().indexOf(searchTerm.toLowerCase()) > -1;\n      });    \n    }\n\n    onSearchInput(){\n      this.searching = true;\n    }\n\n  showSummary(summarytype){\n    this.item = this.navParams.get('item');\n    // console.log(summarytype);\n    let summaryModal = this.modalCtrl.create('SummaryPage', { summarytype: summarytype, tagname: this.item });\n    summaryModal.present();\n  }  \n\n\n  doExport(tag){\n    this.loadingexport = this.loadingController.create();\n    //this.sources = this.items.query();\n    this.loadingexport.present();\n    this.items.tagsexportquery(tag).subscribe((resp) => {\n      this.exportresponse = resp;\n      if (this.exportresponse.SUCCESS) {\n        this.exportAlertMessage = 'The export was created and emailed to ' + this.exportresponse.SENTTOEMAIL;\n      }\n      else {\n        this.exportAlertMessage = 'There was a problem creating the export';\n      }\n      let alert = this.alertCtrl.create({\n        subTitle: this.exportAlertMessage,\n        buttons: ['OK']\n      });\n      alert.present();    \n      this.loadingexport.dismiss();\n    }, (err) => {\n      // Unable to log in\n      let toast = this.toastCtrl.create({\n        message: err.statusText,\n        duration: 3000,\n        position: 'top'\n      });\n      toast.present();\n      this.loadingexport.dismiss();\n      if (err.statusText == 'Not Authenticated - No Device Token') {\n        this.navCtrl.push(FirstRunPage);\n      }   \n    });  \n  } \n\n    refreshTheServerData() {\n      this.loading = this.loadingController.create();\n      this.loading.present();\n      this.item = this.navParams.get('item');\n      this.itemtitle = this.navParams.get('itemtitle') || 'No source name found!';\n      this.items.tagsdetailquery(this.item).subscribe((resp) => {\n        this.currentItems = resp;\n        this.filteredItems = this.currentItems;\n        this.pagetitle = this.itemtitle;\n        this.loading.dismiss();\n        // console.log(this.pagetitle);\n      }, (err) => {\n        // Unable to log in\n        let toast = this.toastCtrl.create({\n          message: this.loginErrorString,\n          duration: 3000,\n          position: 'top'\n        });\n        toast.present();\n        this.loading.dismiss();\n      });   \n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tags-detail/tags-detail.ts"],"sourceRoot":""}