{"version":3,"sources":["../../src/pages/item-detail/item-detail.module.ts","../../src/pages/item-detail/item-detail.ts"],"names":[],"mappings":"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","file":"13.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { ItemDetailPage } from './item-detail';\n\n@NgModule({\n  declarations: [\n    ItemDetailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ItemDetailPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    ItemDetailPage\n  ]\n})\nexport class ItemDetailPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/item-detail/item-detail.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController, LoadingController, AlertController, ModalController } from 'ionic-angular';\nimport { BrowserTab } from '@ionic-native/browser-tab';\n\nimport { Items } from '../../providers/providers';\nimport { SourceProvider } from '../../providers/providers';\nimport { SourcesPage } from '../pages';\n\nimport { FirstRunPage } from '../pages';\n\n@IonicPage()\n@Component({\n  selector: 'page-item-detail',\n  templateUrl: 'item-detail.html'\n})\nexport class ItemDetailPage {\n\n  item: any;\n  itemtitle: any;\n  pagetitle: any;\n  sourceid: any;\n  itemurl: any;\n  private loginErrorString: string;\n  private currentItems: ArrayBuffer;\n  loadingitems: any;\n  loadingexport: any;\n  exportresponse: any;\n  exportAlertMessage: any;\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams, \n    public items: Items, \n    public toastCtrl: ToastController, \n    public browserTab: BrowserTab,\n    public source: SourceProvider,\n    public modalCtrl: ModalController, \n    public loadingController: LoadingController,\n    public alertCtrl: AlertController\n  ) {\n    this.loadingitems = this.loadingController.create();\n    this.loadingitems.present();\n    this.item = navParams.get('item');\n    this.itemtitle = navParams.get('itemtitle') || 'No source name found!';\n    this.items.itemquery(this.item).subscribe((resp) => {\n      this.currentItems = resp;\n      this.pagetitle = this.itemtitle;\n      this.sourceid = this.item;\n      this.loadingitems.dismiss();\n      // console.log(this.pagetitle);\n    }, (err) => {\n      // Unable to log in\n      let toast = this.toastCtrl.create({\n        message: this.loginErrorString,\n        duration: 3000,\n        position: 'top'\n      });\n      toast.present();\n      this.loadingitems.dismiss();\n    });   \n\n  \n  }\n\n  openUrl(itemurl) {\n      window.open(itemurl);// open URL with InAppBrowser instead or SafariViewController\n  }\n\n  deleteItem(item) {\n\n    let confirm = this.alertCtrl.create({\n      title: 'Are you sure?',\n      buttons: [\n        {\n          text: 'No',\n          handler: () => {\n            console.log('Disagree clicked');\n          }\n        },\n        {\n          text: 'Yes',\n          handler: () => {\n            // console.log(item);\n            this.source.delete(this.item).subscribe((resp) => {\n              this.navCtrl.push(SourcesPage);\n              // console.log(this.pagetitle);\n            }, (err) => {\n              // Unable to log in\n              let toast = this.toastCtrl.create({\n                message: this.loginErrorString,\n                duration: 3000,\n                position: 'top'\n              });\n              toast.present();\n            });  \n          }\n        }\n      ]\n    });\n    confirm.present();\n\n    \n  } \n\n  showSummary(summarytype){\n    this.item = this.navParams.get('item');\n    let summaryModal = this.modalCtrl.create('SummaryPage', { summarytype: summarytype, sourceid: this.item });\n    summaryModal.present();\n  }  \n\n\n  doExport(sourceid){\n    this.loadingexport = this.loadingController.create();\n    //this.sources = this.items.query();\n    this.loadingexport.present();\n    this.sourceid = this.navParams.get('sourceid');\n    this.items.itemexportquery(this.sourceid).subscribe((resp) => {\n      this.exportresponse = resp;\n      if (this.exportresponse.SUCCESS) {\n        this.exportAlertMessage = 'The export was created and emailed to ' + this.exportresponse.SENTTOEMAIL;\n      }\n      else {\n        this.exportAlertMessage = 'There was a problem creating the export';\n      }\n      let alert = this.alertCtrl.create({\n        subTitle: this.exportAlertMessage,\n        buttons: ['OK']\n      });\n      alert.present();    \n      this.loadingexport.dismiss();\n    }, (err) => {\n      // Unable to log in\n      let toast = this.toastCtrl.create({\n        message: err.statusText,\n        duration: 3000,\n        position: 'top'\n      });\n      toast.present();\n      this.loadingexport.dismiss();\n      if (err.statusText == 'Not Authenticated - No Device Token') {\n        this.navCtrl.push(FirstRunPage);\n      }   \n    });  \n  } \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/item-detail/item-detail.ts"],"sourceRoot":""}